This is the finished working code as followed along from lecture.
I've added comments throughout explaining what the various parts added to the original code are doing.
May update based on feedback.